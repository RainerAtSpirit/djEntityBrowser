<div data-bind="with: ds">
    <h2 data-bind="text: ItemName"></h2>
    <table class="table table-striped table-bordered table-hover">
        <colgroup data-bind="foreach: properties">
            <col />
        </colgroup>
        <thead>
            <tr>
                <!-- ko foreach: properties -->
                <th
                    data-bind="click: $parent.sortByHeader.bind($parent), css: { sortable: _djsSortable }">
                      <span data-bind="text: name"></span>
                      <!-- ko if: _djsSorted()-->
                      <!-- ko if: _djsSortAsc()-->
                      <i class="icon-angle-up pull-right"></i>
                      <!-- /ko -->
                      <!-- ko if: !_djsSortAsc()-->
                      <i class="icon-angle-down pull-right"></i>
                      <!-- /ko -->
                      <!-- /ko -->
                    </th>
                <!-- /ko -->
                <th>&nbsp;</th>
            </tr>
        </thead>
        <tbody class="items" data-bind="foreach: items">
            <tr data-bind="css: { odd: $index() % 2 === 0 }">
                <!-- ko foreach: $parent.properties -->
                    <!-- $root is not the right contxt for 'ds'. -->
                    <td data-bind="html: $parent._djsGetValue($data, $root.ds)"></td>
                <!-- /ko -->
                <td>
                    <a data-bind="attr: { href: $data._djsGetDetailLink() }" >Detail</a>
                </td>
            </tr>
        </tbody>

        <tfoot>
          <tr>
            <!-- Todo: colspan calculation   -->
            <td data-bind="attr: { colspan: (properties().length + 1 )}">
              <table class="footer">
                <tbody>
                  <tr>
                    <td class="pageSize">
                      <div class="pull-left">
                        <span class="loader" data-bind="css: { active: isFetching }">
                          <i class="icon-spinner icon-2x icon-spin"></i>
                        </span>
                      </div>

                      <select class="span3" data-bind="value: take, options: [3, 5, 7, 10, 13, 17, 20, 50]"></select>
                      <!--<input class="span1" data-bind="value: _pageSize"></input>-->
                      <span class="help-inline">items</span>

                    </td>
                    <td class="pager">
                      <a href="#" data-bind="css: { disabled: !hasPrevious() || isFetching() }, click: previous"><i class="icon-angle-left"></i>previous</a>
                      <a href="#" data-bind="css: { disabled: !hasNext() || isFetching() }, click: next">next <i class="icon-angle-right"></i></a>
                    </td>
                    <td class="pageInfo">
                      <span class="" data-bind="text: paging().from"></span>- <span class="" data-bind="  text: paging().to"></span>
                      <div class="pull-right">
                        <a href="#" title="Grid filter">
                          <i class="icon-filter"></i>
                        </a>
                        <a href="#" title="Grid settings">
                          <i class="icon-cog"></i>
                        </a>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </td>
          </tr>
        </tfoot>


    </table>
</div>
